<div class="breadcrumb-div">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a routerLink="/home/dashboard/">{{'label.AddCompany.Home' | translate}}</a></li>
        <li *ngIf="!Edit" class="breadcrumb-item active">{{'label.AddCompany.AddCompany' | translate}}</li>
        <li *ngIf="Edit" class="breadcrumb-item active">{{'label.AddCompany.EditCompany' | translate}}</li>
    </ol>
</div>
<div class="inner-head display-head">
    <h2 *ngIf="!Edit"><a (click)=back() href="javascript:void(0)" class="back-btn"><span
                class="icon-back"></span></a>{{'label.AddCompany.AddCompanyMaster' | translate}}</h2>
    <h2 *ngIf="Edit"><a (click)=back() href="javascript:void(0)" class="back-btn"><span
                class="icon-back"></span></a>{{'label.AddCompany.EditCompanyMaster' | translate}}</h2>
    <div class="active-sec" *ngIf="Edit">
        <div *ngIf="compObj.isActive==1" class="active-btn">{{'label.AddCompany.Active' | translate}} <span
                class="icon-edit-new" data-toggle="modal" data-target="#statusModal" (click)="openStatus()"></span>
        </div>
        <div *ngIf="compObj.isActive==0" class="active-btn active-btn-red">
            Deactive <span class="icon-edit-new" data-toggle="modal" data-target="#statusModal"
                (click)="openStatus()"></span></div>

    </div>
</div>

<div class="modal fade left-alignmodal" id="statusModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog notify-modal modal-medium" role="document">
        <div class="modal-content">
            <div class="modal-heading">{{'label.AddCompany.EditStatus' | translate}}
                <button type="button" class="close close12" data-dismiss="modal" aria-label="Close">
                    <span class="icon-close1"></span>
                </button>
            </div>
            <div class="modal-body">
                <div class="status-list">
                    <div class="status-toggle">
                        <p>{{'label.AddCompany.Status' | translate}}</p>
                        <div class="tgl-group">


                            <input [(ngModel)]="compObj.changeStatus" class='tgl tgl-light' id='display-creditLimit'
                                type='checkbox'>
                            <label class='tgl-btn' for='display-creditLimit'></label><span>
                                <span *ngIf="compObj.changeStatus==1">
                                    {{'label.AddCompany.Active' | translate}}</span>
                                <span *ngIf="compObj.changeStatus==0">{{'label.AddCompany.Deactive' | translate}}</span>
                            </span>
                        </div>
                    </div>
                    <div class="text-areabox">
                        <label>{{'label.AddCompany.Reason' | translate}}</label>
                        <textarea class="form-control" [(ngModel)]="changeStatus"></textarea>
                    </div>
                </div>
                <br />
                <a class="add-btn" (click)="updateStatus()"><span>{{'label.AddCompany.Update' | translate}}</span></a>
                <a class="cancel-btn" data-dismiss="modal"><span>{{'label.AddCompany.Cancel' | translate}}</span></a>

            </div>

        </div>
    </div>
</div>

<div class="addmaster-company cmpy-edit" [class.disabled]="getAccessRole('isEdit')">
    <div class="nav nav-tabs nav-fill company-tabss" id="nav-tab" role="tablist">
        <a class="nav-item nav-link" [class.active]="compObj.isDetails" (click)="detailsTab()" data-tab="nav-home">
            <span class="icon-building"></span> {{compObj.userType}} {{'label.AddCompany.Details' | translate}}
        </a>


        <a *ngIf="compObj.userType=='Company'" class="nav-item nav-link" [class.active]="compObj.isContact"
            (click)="contactsTab()"><span data-tab="nav-profile" class="icon-phone"></span>{{compObj.userType}}
            {{'label.AddCompany.Contact' | translate}}</a>


        <a class="nav-item nav-link" [class.active]="compObj.isParameter" (click)="parameterTab()"><span
                data-tab="parameter" class="icon-parameter1"></span>{{'label.AddCompany.Parameters' | translate}}</a>

        <a class="nav-item nav-link" [class.active]="compObj.isTheme" (click)="themesTab()"><span data-tab="nav-logo"
                class="icon-theme"></span>{{'label.AddCompany.UploadLogo' | translate}}</a>
    </div>
    <div class="form-list">


        <div class="tab-pane company-content" [class.active]="compObj.isDetails" id="nav-home">
            <form [formGroup]="CompanyForm">
                <div class="row">
                    <div class="col-sm-12 col-md-12 col-xs-12">
                        <div class="form-group">
                            <label>{{'label.AddCompany.SelectUserType' | translate}}</label>
                            <div class="radio-group compaign-radio">
                                <div class="radio-btn">
                                    <input [(ngModel)]="compObj.userType" (change)="changeUserType()"
                                        formControlName="userType" id="radio-1"
                                        value="{{'label.AddCompany.Company' | translate}}" type="radio" />
                                    <label for="radio-1"
                                        class="radio-label">{{'label.AddCompany.Company' | translate}}</label>
                                </div>
                                <div class="error error-position"
                                    *ngIf="CompanyForm.controls['userType'].hasError('required') &&CompanyForm.controls['userType'].touched">
                                    {{'error.AddCompany.UserTyperequired' | translate}} </div>
                                <div class="radio-btn">
                                    <input [(ngModel)]="compObj.userType" (change)="changeUserType()"
                                        formControlName="userType" id="radio-2"
                                        value="{{'label.AddCompany.Individual' | translate}}" type="radio" />
                                    <label for="radio-2"
                                        class="radio-label">{{'label.AddCompany.Individual' | translate}}</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-md-5 col-xs-12">
                        <div class="form-group">
                            <label>{{compObj.userType}} {{'label.AddCompany.Name' | translate}}</label>
                            <input type="text" class="form-control" [(ngModel)]="compObj.companyName"
                                formControlName="companyName" id="companyName" autocomplete="off"
                                (input)='changeField($event,"[^0-9 a-zA-Z\u0600-\u06FF]","1","50","companyName",compObj.companyName.length)'>

                            <div class="error error-position"
                                *ngIf="CompanyForm.controls['companyName'].hasError('required') &&CompanyForm.controls['companyName'].touched">
                                {{compObj.userType}} {{'error.AddCompany.Namerequired' | translate}}</div>
                        </div>
                    </div>

                    <div class="col-sm-6 col-md-5 col-xs-12">
                        <div class="form-group">
                            <label>{{compObj.userType}} {{'label.AddCompany.Code' | translate}}</label>
                            <input type="text" class="form-control" [(ngModel)]="compObj.companyCode"
                                formControlName="companyCode" id="companyCode" autocomplete="off"
                                (input)='changeField($event,"[^0-9 a-zA-Z\u0600-\u06FF]","1","16","companyCode",compObj.companyCode.length)'>



                            <div class="error error-position"
                                *ngIf="CompanyForm.controls['companyCode'].hasError('required') && CompanyForm.controls['companyCode'].touched">
                                {{compObj.userType}} {{'error.AddCompany.coderequired' | translate}}</div>
                        </div>


                    </div>


                </div>
                <div class="page-title">
                    <h2>{{'label.AddCompany.ContactInformation' | translate}}</h2>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-md-5 col-xs-12">
                        <div class="form-group">
                            <label>{{'label.AddCompany.EmailAddress' | translate}} </label>
                            <input type="email" class="form-control"
                                (change)="focusOutInidividualEmailId($event,compObj.email)" [(ngModel)]="compObj.email"
                                formControlName="email" id="email" autocomplete="off">

                            <div class="error error-position"
                                *ngIf="CompanyForm.controls['email'].hasError('required') && CompanyForm.controls['email'].touched">
                                {{'error.AddCompany.Emailrequired' | translate}} </div>
                            <div class="error error-position"
                                *ngIf="CompanyForm.controls['email'].hasError('email') && CompanyForm.controls['email'].touched">
                                {{'error.AddCompany.ValidEmail' | translate}} </div>

                            <div class="error error-position"
                                *ngIf="CompanyForm.controls['email'].hasError('alreadyExist')&& CompanyForm.controls['email'].touched">
                                {{'error.AddCompany.ExistEmail' | translate}} </div>

                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-md-5 col-xs-12">
                        <div class="form-group phone-mumber">
                            <label>{{'label.AddCompany.Phone' | translate}} </label>

                            <ngx-intl-tel-input [cssClass]="'custom'" [(ngModel)]="compObj.CorpPreMobileNo"
                            [enablePlaceholder]="true" [searchCountryFlag]="true"
                            [onlyCountries]="CountryISO" [maxLength]="15"
                            [tooltipField]="TooltipLabel.Name" [separateDialCode]="separateDialCode" name="phone"
                            formControlName="CorpPreMobileNo">
                        </ngx-intl-tel-input>
                            <div class="error error-position "
                                *ngIf="CompanyForm.controls['CorpPreMobileNo'].hasError('required') && CompanyForm.controls['CorpPreMobileNo'].touched">
                                {{'error.AddCompany.Phonerequired' | translate}}</div>

                            <div class="error error-position"
                                *ngIf="CompanyForm.controls['CorpPreMobileNo'].hasError('validatePhoneNumber') && CompanyForm.controls['CorpPreMobileNo'].touched">
                                {{'error.AddCompany.Invalidphone' | translate}} </div>
                        </div>
                    </div>

                    <div class="col-sm-6 col-md-5 col-xs-12">
                        <div class="form-group">
                            <label>{{'label.AddCompany.Fax' | translate}}
                                <span>{{'label.AddCompany.Optional' | translate}} </span></label>

                            <input type="text" class="form-control" [(ngModel)]="compObj.fax" formControlName="fax"
                                id="fax" (input)='changeField($event,"[^ 0-9+-()]","1","40","fax",compObj.fax.length)'>

                            <div class="error error-position"
                                *ngIf="CompanyForm.controls['fax'].hasError('required') && CompanyForm.controls['fax'].touched">
                                {{'error.AddCompany.Faxrequired' | translate}} </div>
                        </div>
                    </div>

                </div>
                <div class="row">
                    <div class="col-sm-6 col-md-5 col-xs-12">
                        <div class="form-group">
                            <label>{{'label.AddCompany.AptSuite' | translate}}</label>
                            <input type="text" [(ngModel)]="compObj.suite" formControlName="suite" id="suite"
                                class="form-control"
                                (input)='changeField($event,"[^0-9]","1","15","suite",compObj.suite.length)'>
                            <div class="error error-position"
                                *ngIf="CompanyForm.controls['suite'].hasError('required') && CompanyForm.controls['suite'].touched">
                                {{'error.AddCompany.AptSuiterequired' | translate}} </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-md-5 col-xs-12">
                        <div class="form-group">
                            <label>{{'label.AddCompany.WebsiteURL' | translate}} </label>
                            <input type="text" class="form-control" [(ngModel)]="compObj.websiteURL"
                                (input)='changeField($event,"[^A-Za-z0-9_@./#&+-]","1","100","websiteURL",compObj.websiteURL.length)'
                                formControlName="websiteURL" id="websiteURL" autocomplete="off">


                            <div class="error error-position"
                                *ngIf="CompanyForm.controls['websiteURL'].hasError('required') && CompanyForm.controls['websiteURL'].touched">
                                {{'error.AddCompany.WebsiteURLrequired' | translate}} </div>
                            <div class="error error-position"
                                *ngIf="CompanyForm.controls['websiteURL'].hasError('pattern') && CompanyForm.controls['websiteURL'].touched">
                                {{'error.AddCompany.validWebsiteURL' | translate}} </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-6 col-md-5 col-xs-12 text-areab">
                        <div class="form-group">
                            <label>{{'label.AddCompany.AddressLine1' | translate}} </label>
                            <textarea class="form-control" formControlName="address1" id="address1"
                                [(ngModel)]="compObj.address1"
                                (input)='changeField($event,"/^[ A-Za-z0-9_@./#&+-]*$/","1","250","address1",compObj.address1.length)'></textarea>

                            <div class="error error-position"
                                *ngIf="CompanyForm.controls['address1'].hasError('required') && CompanyForm.controls['address1'].touched">
                                {{'error.AddCompany.Addressline1' | translate}} </div>
                        </div>
                    </div>

                    <div class="col-sm-6 col-md-5 col-xs-12 text-areab">
                        <div class="form-group">
                            <label>{{'label.AddCompany.AddressLine2' | translate}} </label>
                            <textarea class="form-control" formControlName="address2" id="address2"
                                [(ngModel)]="compObj.address2"
                                (input)='changeField($event,"[^0-9 a-zA-Z\u0600-\u06FF]","1","150","address2",compObj.address2.length)'></textarea>


                            <div class="error error-position"
                                *ngIf="CompanyForm.controls['address2'].hasError('required') && CompanyForm.controls['address2'].touched">
                                {{'error.AddCompany.Addressline2' | translate}} </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-md-5 col-xs-12">
                        <div class="form-group">
                            <label>{{'label.AddCompany.StateProvince' | translate}}</label>
                            <input type="text" class="form-control" [(ngModel)]="compObj.state" formControlName="state"
                                id="state"
                                (input)='changeField($event,"[^0-9 a-zA-Z\u0600-\u06FF]","1","35","state",compObj.state.length)'>

                            <div class="error error-position"
                                *ngIf="CompanyForm.controls['state'].hasError('required') && CompanyForm.controls['state'].touched">
                                {{'error.AddCompany.Staterequired' | translate}} </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-md-5 col-xs-12">
                        <div class="form-group">
                            <label>{{'label.AddCompany.CityTown' | translate}}</label>
                            <input type="text" class="form-control"
                                (input)='changeField($event,"[^0-9 a-zA-Z\u0600-\u06FF]","1","35","state",compObj.city.length)'
                                [(ngModel)]="compObj.city" formControlName="city" id="city" autocomplete="off">

                            <div class="error error-position"
                                *ngIf="CompanyForm.controls['city'].hasError('required') && CompanyForm.controls['city'].touched">
                                {{'error.AddCompany.Cityrequired' | translate}} </div>
                        </div>
                    </div>


                </div>
                <div class="row">

                    <div class="col-sm-6 col-md-5 col-xs-12">
                        <div class="form-group">
                            <label>{{'label.AddCompany.ZipPostalCode' | translate}} </label>
                            <input type="text" class="form-control" [(ngModel)]="compObj.pinCode"
                                formControlName="pinCode" id="pinCode"
                                (input)='changeField($event,"[^0-9]","1","15","pinCode", compObj.pinCode.length)'>

                            <div class="error error-position"
                                *ngIf="CompanyForm.controls['pinCode'].hasError('required') && CompanyForm.controls['pinCode'].touched">
                                {{'error.AddCompany.PinCoderequired' | translate}} </div>
                        </div>
                    </div>


                    <div class="col-sm-6 col-md-5 col-xs-12">
                        <div class="form-group">
                            <label>{{'label.AddCompany.Country' | translate}} </label>
                            <p-dropdown optionLabel="countryDesc" class="dropdown-user-select"
                                [options]="listCountryCode" [(ngModel)]="compObj.countryMod" formControlName="country"
                                [filter]="true">

                            </p-dropdown>

                            <div class="error error-position"
                                *ngIf="CompanyForm.controls['country'].hasError('required') && CompanyForm.controls['country'].touched">
                                {{'error.AddCompany.Countryrequired' | translate}}</div>
                        </div>
                    </div>
                </div>


            </form>

            <form [formGroup]="ContactForm" *ngIf="compObj.userType!='Company'">
                <div class="table-list">
                    <h2>{{'label.AddCompany.RoleAccess' | translate}}</h2>
                    <div class="row">
                        <div class="col-sm-12 col-md-10">
                            <div class="tablemain tablemain-hight0 form-group">
                                <div class="tableheader">
                                    <table class="table table-checkbox">
                                        <thead>
                                            <tr>
                                                <th width="1%" scope="col">
                                                    <div class="checkbox">
                                                        <label>
                                                            <input type="checkbox" [(ngModel)]="compObj.selectAllGroup"
                                                                formControlName="selectAllGroup"
                                                                (change)="selectAll($event);">
                                                            <span class="cr"><i class="cr-icon fa fa-check"></i></span>
                                                        </label>
                                                    </div>
                                                </th>
                                                <th width="75%" scope="col">{{'label.AddCompany.Role' | translate}}
                                                </th>

                                                <th width="20%" scope="col">
                                                    <div class="check-select">
                                                        <a href="javascript:void(0)"
                                                            [class.active]="this.compObj.showSelectGroup"
                                                            (click)="selectAllGroup()">
                                                            <i class="fa fa-check-circle"
                                                                aria-hidden="true"></i>{{'label.AddCompany.SelectAll' | translate}}
                                                        </a>
                                                    </div>
                                                </th>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                                <div class="tablebody scroll-margin ">
                                    <table class="table">
                                        <tbody>
                                            <tr formArrayName="opGroup" *ngFor="let group of listGroups; let i = index">
                                                <td width="1%" data-th="Select All">
                                                    <div class="checkbox">
                                                        <label>
                                                            <input type="checkbox" [formControlName]="i" id="group_desc"
                                                                [(ngModel)]="group.theCheckbox" id="theCheckbox"
                                                                (change)="toggleVisibility(group)"
                                                                value="{{group.credit}}">


                                                            <span class="cr"><i class="cr-icon fa fa-check"></i></span>
                                                        </label>
                                                    </div>
                                                </td>
                                                <td width="75%" data-th="Role">
                                                    <span *ngIf="group.theCheckbox">
                                                        <input type="text" id="group_desc"
                                                            class="form-control alert-success"
                                                            value="{{group.groupName}}" disabled>
                                                    </span>
                                                    <span *ngIf="!group.theCheckbox">
                                                        <input type="text" id="group_desc" class="form-control "
                                                            value="{{group.groupName}}" disabled>
                                                    </span>

                                                </td>
                                                <td width="20%" data-th="">
                                                    <span class="ok-select"
                                                        *ngIf="group.theCheckbox">{{'label.AddCompany.Ok' | translate}}</span>
                                                    <span class="not-select"
                                                        *ngIf="!group.theCheckbox">{{'label.AddCompany.NotSelected' | translate}}
                                                    </span>
                                                </td>

                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>


                        </div>

                        <div class="error"
                            *ngIf="ContactForm.controls['opGroup'].status=='INVALID' && ContactForm.controls['opGroup'].touched">
                            {{'error.AddCompany.Rolerequired' | translate}} </div>

                    </div>
                </div>


            </form>
            <div class="button-right">

                <a (click)='detailsSubmit()' class="add-btn"><span>{{'label.AddCompany.Next' | translate}}</span></a>

            </div>
        </div>


        <form [formGroup]="ContactForm">

            <div class="tab-pane company-content" [class.active]="compObj.isContact" id="nav-profile">
                <div class="page-title">
                    <h2>{{'label.AddCompany.PrimaryInformation' | translate}}</h2>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-md-5 col-xs-12">
                        <div class="form-group">
                            <label>{{'label.AddCompany.ContactName' | translate}} </label>
                            <input type="text" class="form-control" formControlName="contactName"
                                [(ngModel)]="companyContact.contactName" id="contactName"
                                (input)='changeField($event,"[^0-9 a-zA-Z\u0600-\u06FF]","1","50","contactName",companyContact.contactName.length)'>


                            <div class="error error-position"
                                *ngIf="ContactForm.controls['contactName'].hasError('required') && ContactForm.controls['contactName'].touched">
                                {{'error.AddCompany.ContactNamerequired' | translate}} </div>
                        </div>
                    </div>

                    <div class="col-sm-6 col-md-5 col-xs-12">
                        <div class="form-group">
                            <label>{{'label.AddCompany.Designation' | translate}} </label>
                            <input type="text" class="form-control" formControlName="designation"
                                [(ngModel)]="companyContact.designation" id="designation"
                                (input)='changeField($event,"[^0-9 a-zA-Z\u0600-\u06FF]","1","50","designation",companyContact.designation.length)'>



                            <div class="error error-position"
                                *ngIf="ContactForm.controls['designation'].hasError('required') && ContactForm.controls['designation'].touched">
                                {{'error.AddCompany.Designationrequired' | translate}} </div>
                        </div>
                    </div>




                </div>
                <div class="row">
                    <div class="col-sm-6 col-md-5 col-xs-12">
                        <div class="form-group">
                            <label>{{'label.AddCompany.E-MailAddress' | translate}} </label>
                            <input type="email" class="form-control" formControlName="email"
                                (change)="focusOutCompanyEmailId($event,companyContact.email)"
                                [(ngModel)]="companyContact.email" id="email">


                            <div class="error error-position"
                                *ngIf="ContactForm.controls['email'].hasError('required') && ContactForm.controls['email'].touched">
                                {{'error.AddCompany.Emailrequired1' | translate}}</div>
                            <div class="error error-position"
                                *ngIf="ContactForm.controls['email'].hasError('email') && ContactForm.controls['email'].touched">
                                {{'error.AddCompany.ValidEmail1' | translate}}</div>
                            <div class="error error-position"
                                *ngIf="ContactForm.controls['email'].hasError('alreadyExist')&& ContactForm.controls['email'].touched">
                                {{'error.AddCompany.ExistEmail1' | translate}} </div>
                        </div>
                    </div>



                    <div class="col-sm-6 col-md-5 col-xs-12">
                        <div class="form-group phone-mumber">
                            <label>{{'label.AddCompany.PhoneNumber' | translate}}</label>


                            <ngx-intl-tel-input [cssClass]="'custom'" [(ngModel)]="companyContact.CorpPreMobileNo"
                                [enablePlaceholder]="true" [searchCountryFlag]="true"
                                 [maxLength]="15" [onlyCountries]="CountryISO"
                                [tooltipField]="TooltipLabel.Name" [separateDialCode]="separateDialCode"
                                name="CorpPreMobileNo" formControlName="CorpPreMobileNo">
                            </ngx-intl-tel-input>

                            <div class="error error-position"
                                *ngIf="ContactForm.controls['CorpPreMobileNo'].hasError('required') && ContactForm.controls['CorpPreMobileNo'].touched">
                                {{'error.AddCompany.Phonerequired1' | translate}}</div>

                            <div class="error error-position"
                                *ngIf="ContactForm.controls['CorpPreMobileNo'].hasError('validatePhoneNumber') && ContactForm.controls['CorpPreMobileNo'].touched">
                                {{'error.AddCompany.Invalidphone1' | translate}} </div>

                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-md-5 col-xs-12">
                        <div class="form-group phone-mumber">
                            <label>{{'label.AddCompany.WorkPhone' | translate}}</label>
                            <ngx-intl-tel-input [cssClass]="'custom'" [(ngModel)]="companyContact.workPrePhone"
                                [enablePlaceholder]="true" [searchCountryFlag]="true"
                                [onlyCountries]="CountryISO" [maxLength]="15"
                                [tooltipField]="TooltipLabel.Name" [separateDialCode]="separateDialCode"
                                name="CorpPreMobileNo" formControlName="workPhone">
                            </ngx-intl-tel-input>
                            <div class="error error-position"
                                *ngIf="ContactForm.controls['workPhone'].hasError('validatePhoneNumber') && ContactForm.controls['workPhone'].touched">
                                {{'error.AddCompany.Invalidphone2' | translate}}</div>
                            <div class="error error-position"
                                *ngIf="ContactForm.controls['workPhone'].hasError('required') && ContactForm.controls['workPhone'].touched">
                                {{'error.AddCompany.Phonerequired2' | translate}}</div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-md-5 col-xs-12">
                        <div class="form-group">
                            <label>{{'label.AddCompany.Fax1' | translate}}
                                <span>{{'label.AddCompany.Optional1' | translate}}</span></label>
                            <input type="text" formControlName="fax" class="form-control"
                                [(ngModel)]="companyContact.fax"
                                (input)='changeField($event,"[^ 0-9+-()]","1","40","fax",companyContact.fax.length)'>
                            <div class="error error-position"
                                *ngIf="ContactForm.controls['fax'].hasError('required') && ContactForm.controls['fax'].touched">
                                {{'error.AddCompany.Faxrequired1' | translate}} </div>
                        </div>
                    </div>
                </div>

                <div class="table-list">
                    <h2>{{'label.AddCompany.RoleAccess1' | translate}}</h2>
                    <div class="row">
                        <div class="col-sm-12 col-md-10">
                            <div class="tablemain tablemain-hight0">
                                <div class="tableheader">
                                    <table class="table table-checkbox">
                                        <thead>
                                            <tr>
                                                <th width="1%" scope="col">
                                                    <div class="checkbox">
                                                        <label>
                                                            <input type="checkbox" [(ngModel)]="compObj.selectAllGroup"
                                                                formControlName="selectAllGroup"
                                                                (change)="selectAll($event);">
                                                            <span class="cr"><i class="cr-icon fa fa-check"></i></span>
                                                        </label>
                                                    </div>
                                                </th>
                                                <th width="75%" scope="col">{{'label.AddCompany.Role1' | translate}}
                                                </th>

                                                <th width="20%" scope="col">
                                                    <div class="check-select">
                                                        <a href="javascript:void(0)"
                                                            [class.active]="this.compObj.showSelectGroup"
                                                            (click)="selectAllGroup()">
                                                            <i class="fa fa-check-circle"
                                                                aria-hidden="true"></i>{{'label.AddCompany.SelectAll1' | translate}}
                                                        </a>
                                                    </div>
                                                </th>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                                <div class="tablebody scroll-margin">
                                    <table class="table">
                                        <tbody>
                                            <tr formArrayName="opGroup" *ngFor="let group of listGroups; let i = index">
                                                <td width="1%" data-th="Select All">
                                                    <div class="checkbox">
                                                        <label>
                                                            <input type="checkbox" [formControlName]="i" id="group_desc"
                                                                [(ngModel)]="group.theCheckbox" id="theCheckbox"
                                                                (change)="toggleVisibility(group)"
                                                                value="{{group.credit}}">


                                                            <span class="cr"><i class="cr-icon fa fa-check"></i></span>
                                                        </label>
                                                    </div>
                                                </td>
                                                <td width="75%" data-th="Role">
                                                    <span *ngIf="group.theCheckbox">
                                                        <input type="text" id="group_desc"
                                                            class="form-control alert-success"
                                                            value="{{group.groupName}}" disabled>
                                                    </span>
                                                    <span *ngIf="!group.theCheckbox">
                                                        <input type="text" id="group_desc" class="form-control "
                                                            value="{{group.groupName}}" disabled>
                                                    </span>

                                                </td>
                                                <td width="20%" data-th="">
                                                    <span class="ok-select"
                                                        *ngIf="group.theCheckbox">{{'label.AddCompany.Ok1' | translate}}</span>
                                                    <span class="not-select"
                                                        *ngIf="!group.theCheckbox">{{'label.AddCompany.NotSelected1' | translate}}
                                                    </span>
                                                </td>

                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div class="error"
                            *ngIf="ContactForm.controls['opGroup'].status=='INVALID' && ContactForm.controls['opGroup'].touched">
                            {{'error.AddCompany.Rolerequired1' | translate}} </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-12 col-md-10 col-xs-12">
                        <div class="page-title right-btn">
                            <!-- *ngIf='showContact' -->
                            <h2>{{'label.AddCompany.ListofContact' | translate}}</h2>
                            <div class="button-orange">
                                <a (click)="addContacts()">{{'label.AddCompany.AddContacts' | translate}} <span
                                        class="icon-plus"></span></a>
                            </div>
                        </div>

                        <div class="company-over">
                            <div class="manage-over" formArrayName="contactList">
                                <div class="panel-group" id="accordion{{i}}" role="tablist" aria-multiselectable="true"
                                    *ngFor="let contactsList of ContactForm['controls'].contactList['controls']; let i = index"
                                    formGroupName="{{i}}">
                                    <div *ngIf="ContactForm.get('contactList').value[i].isActive"
                                        class="panel panel-default">
                                        <div class="panel-heading" role="tab" id="headingOne">
                                            <h4 class="panel-title">

                                                <a role="button" data-toggle="collapse" href="#collapseOne{{i}}"
                                                    aria-expanded="true" aria-controls="collapseOne">
                                                    <i class="more-less fa fa-caret-right"></i>
                                                    {{'label.AddCompany.Contact1' | translate}} {{i+1}}
                                                </a>
                                                <div class="delete-btn" (click)="deleteContact(i)">
                                                    <button><i class="icon-delete"></i></button>
                                                </div>
                                            </h4>
                                        </div>
                                        <div id="collapseOne{{i}}" class="panel-collapse collapse in" role="tabpanel"
                                            aria-labelledby="headingOne">
                                            <div class="panel-body">
                                                <div class="row">
                                                    <div class="col-sm-6 col-md-6 col-xs-12">
                                                        <div class="form-group">
                                                            <label>{{'label.AddCompany.ContactName1' | translate}}

                                                            </label>
                                                            <input formControlName="contactName" type="text"
                                                                class="form-control" #contactName
                                                                (input)='changeField($event,"[^0-9 a-zA-Z\u0600-\u06FF]","1","50","contactName",contactName.value.length)'>
                                                            <div class="error error-position"
                                                                *ngIf="contactsList.controls['contactName'].hasError('required') && contactsList.controls['contactName'].touched">
                                                                {{'error.AddCompany.ContactNamerequired1' | translate}}
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-6 col-md-6 col-xs-12">
                                                        <div class="form-group">
                                                            <label>{{'label.AddCompany.Designation1' | translate}}</label>
                                                            <input type="text" class="form-control"
                                                                formControlName="designation" id="designation"
                                                                #designation
                                                                (input)='changeField($event,"[^0-9 a-zA-Z\u0600-\u06FF]","1","50","designation",designation.value.length)'>
                                                            <div class="error error-position"
                                                                *ngIf="contactsList.controls['designation'].hasError('required') && contactsList.controls['designation'].touched">
                                                                {{'error.AddCompany.Designationrequired1' | translate}}
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-sm-6 col-md-6 col-xs-12">
                                                        <div class="form-group">
                                                            <label>{{'label.AddCompany.E-MailAddress1' | translate}}

                                                            </label>
                                                            <input type="email" class="form-control" id="email"
                                                                formControlName="email">
                                                            <div class="error error-position"
                                                                *ngIf="contactsList.controls['email'].hasError('required') && contactsList.controls['email'].touched">
                                                                {{'error.AddCompany.Emailrequired2' | translate}}
                                                            </div>
                                                            <div class="error error-position"
                                                                *ngIf="contactsList.controls['email'].hasError('email') && contactsList.controls['email'].touched">
                                                                {{'error.AddCompany.ValidEmail2' | translate}}
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-6 col-md-6 col-xs-12">
                                                        <div class="form-group phone-mumber">
                                                            <label>{{'label.AddCompany.WorkPhone1' | translate}}
                                                            </label>

                                                            <ngx-intl-tel-input [cssClass]="'custom'"
                                                                [enablePlaceholder]="true" [searchCountryFlag]="true"
                                                                [onlyCountries]="CountryISO"
                                                                [maxLength]="15" [tooltipField]="TooltipLabel.Name"
                                                                [separateDialCode]="separateDialCode"
                                                                name="CorpPreMobileNo"
                                                                formControlName="CorpPreMobileNo">
                                                            </ngx-intl-tel-input>


                                                            <div class="error error-position error-right"
                                                                *ngIf="contactsList.controls['CorpPreMobileNo'].hasError('validatePhoneNumber') && contactsList.controls['CorpPreMobileNo'].touched">
                                                                {{'error.AddCompany.Invalidphone3' | translate}}
                                                            </div>


                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-sm-6 col-md-6 col-xs-12">
                                                        <div class="form-group phone-mumber">
                                                            <label>{{'label.AddCompany.MobilePhone' | translate}}
                                                            </label>
                                                            <ngx-intl-tel-input [cssClass]="'custom'"
                                                                [enablePlaceholder]="true" [searchCountryFlag]="true"
                                                                [onlyCountries]="CountryISO"
                                                                [maxLength]="15" [tooltipField]="TooltipLabel.Name"
                                                                [separateDialCode]="separateDialCode"
                                                                name="CorpPreMobileNo2"
                                                                formControlName="CorpPreMobileNo2">
                                                            </ngx-intl-tel-input>


                                                            <div class="error error-position error-right"
                                                                *ngIf="contactsList.controls['CorpPreMobileNo2'].hasError('validatePhoneNumber') && contactsList.controls['CorpPreMobileNo2'].touched">
                                                                {{'error.AddCompany.Invalidphonenumber4' | translate}}
                                                            </div>


                                                        </div>

                                                    </div>
                                                    <div class="col-sm-6 col-md-6 col-xs-12">
                                                        <div class="form-group">
                                                            <label>{{'label.AddCompany.Fax2' | translate}}
                                                                <span>{{'label.AddCompany.Optional' | translate}}
                                                                </span></label>
                                                            <input type="text" class="form-control" id="fax"
                                                                formControlName="fax" #fax
                                                                (input)='changeField($event,"[^ 0-9+-()]","1","40","fax",fax.value.length)'>
                                                            <div class="error error-position"
                                                                *ngIf="contactsList.controls['fax'].hasError('required') && contactsList.controls['fax'].touched">
                                                                {{'error.AddCompany.Faxrequired2' | translate}}
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                               


                                            </div>
                                        </div>
                                    </div>


                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="button-right">
                    <a href="javascript:void(0)" class="cancel-btn cancel-border"
                        (click)="previousToDetails()">{{'label.AddCompany.Previous' | translate}} </a>

                    <input (click)=contactSave() type="submit" class="add-btn"
                        value="{{'label.AddCompany.Next' | translate}}" />

                </div>
            </div>
        </form>
        <form [formGroup]="parameterForm">
            <div class="tab-pane company-content" id="parameter" [class.active]="compObj.isParameter">
                <div class="row">
                    <div class="col-sm-6 col-md-5 col-xs-12">
                        <div class="form-group">
                            <label>{{'label.AddCompany.CompanyDomain' | translate}} </label>
                            <div class="styled-select">
                                <select id="companyDomain" formControlName="companyDomain"
                                    [(ngModel)]="compObj.companyDomain">
                                    <option *ngFor="let company of companyDomain; let i=index "
                                        value="{{company.name}}">
                                        {{company.name}}
                                    </option>
                                </select>

                                <span class="fa fa-sort-desc"></span>

                            </div>

                            <div class="error error-position"
                                *ngIf="parameterForm.controls['companyDomain'].hasError('required') && parameterForm.controls['companyDomain'].touched">
                                {{'error.AddCompany.CompanyDomainrequired' | translate}} </div>
                        </div>

                    </div>
                </div>
                <div class="row" *ngIf="compObj.userType=='Company'">
                    <div class="col-sm-6 col-md-5 col-xs-12">
                        <div class="form-group">
                            <label>{{'label.AddCompany.MaximumNumberofBranches' | translate}}</label>
                            <input type="number" class="form-control"
                                (input)='changeField($event,"[^0-9 a-zA-Z\u0600-\u06FF]","1","3","contactName",parameterDetails[20].propertyValue.length)'
                                [(ngModel)]="parameterDetails[20].propertyValue" formControlName="maxNoBranches"
                                id="maxNoBranches" autocomplete="off" (input)="checkMaxNoBranch()">

                            <div class="error error-position"
                                *ngIf="parameterForm.controls['maxNoBranches'].hasError('required') &&parameterForm.controls['maxNoBranches'].touched">
                                {{'error.AddCompany.MaximumNumberofBranchesrequired' | translate}} </div>
                            <div class="error error-position"
                                *ngIf="parameterForm.controls['maxNoBranches'].hasError('check') && parameterForm.controls['maxNoBranches'].touched">
                                {{'error.AddCompany.Invalidfield' | translate}} </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-md-5 col-xs-12">
                        <div class="form-group">
                            <label>{{'label.AddCompany.MaximumNumberofUsersBranches' | translate}}</label>
                            <input type="number" class="form-control"
                                (input)='changeField($event,"[^0-9 a-zA-Z\u0600-\u06FF]","1","5","contactName",parameterDetails[21].propertyValue.length)'
                                [(ngModel)]="parameterDetails[21].propertyValue" formControlName="maxNoUsers"
                                id="maxNoUsers" autocomplete="off" (input)="checkMaxNoUsers()">

                            <div class="error error-position"
                                *ngIf="parameterForm.controls['maxNoUsers'].hasError('required') &&parameterForm.controls['maxNoUsers'].touched">
                                {{'error.AddCompany.MaximumNumberofUsersBranchesrequired' | translate}} </div>
                            <div class="error error-position"
                                *ngIf="parameterForm.controls['maxNoUsers'].hasError('check') && parameterForm.controls['maxNoUsers'].touched">
                                {{'error.AddCompany.Invalidfield1' | translate}} </div>

                        </div>
                    </div>
                </div>
                <div class="row">

                    <div class="col-sm-6 col-md-5 col-xs-12">
                        <div class="form-group">
                            <label> {{'label.AddCompany.LanguagesSupported' | translate}}</label>



                            <p-multiSelect optionLabel="langDesc" [options]="listLanguageId"
                                [(ngModel)]="compObj.language" formControlName="language" [filter]="true">

                            </p-multiSelect>

                            <div class="error error-position"
                                *ngIf="parameterForm.controls['language'].hasError('required') && parameterForm.controls['language'].touched">
                                {{'error.AddCompany.Languagerequired' | translate}} </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-md-5 col-xs-12">
                        <div class="form-group">
                            <label>{{'label.AddCompany.CustomerSubscription' | translate}}</label>
                            <div class="styled-select">
                                <select formControlName="customerSubscription"
                                    [(ngModel)]="compObj.customerSubscription">

                                    <option value="Prepaid">{{'label.AddCompany.Prepaid' | translate}}</option>
                                    <option value="Postpaid">{{'label.AddCompany.Postpaid' | translate}}</option>
                                </select>
                                <span class="fa fa-sort-desc"></span>

                            </div>
                        </div>


                    </div>
                </div>
                <div class="row">


                    <div class="col-sm-12 col-md-10 col-xs-12">
                        <div class="form-group">
                            <label>{{'label.AddCompany.ChannelsSupported' | translate}}</label>
                            <div class="radio-group pushpull-radiogroup">
                                <div class="radio-btn" *ngFor="let list of listChannelId; let i=index"
                                    formArrayName="smsDelivery">
                                    <input id="checkbox-{{i}}" (change)="onChangeChannel(list)" type="checkbox"
                                        [formControlName]="i" value="{{list.channelId}}" [(ngModel)]="list.isChecked" />
                                    <label for="checkbox-{{i}}" class="radio-label">{{list.channelDesc}}</label>
                                </div>

                                <div class="error error-position error-right"
                                    *ngIf="parameterForm.controls['smsDelivery'].hasError('required') && parameterForm.controls['smsDelivery'].touched">
                                    {{'error.AddCompany.ChannelsSupportedrequired' | translate}} </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="page-title"
                    *ngIf="selectedChannel.isSms ||  selectedChannel.isEmail || selectedChannel.isPush ">
                    <h2>{{'label.AddCompany.GlobalLimit' | translate}} </h2>
                </div>
                <div class="page-title" *ngIf="selectedChannel.isSms ">
                    <h2>{{'label.AddCompany.SMS' | translate}} </h2>
                </div>



                <div class="row">
                    <div class="col-sm-6 col-md-5 col-xs-12" *ngIf="selectedChannel.isSms ">
                        <div class="form-group">
                            <label>{{'label.AddCompany.LimitPerChannel-SMS' | translate}}</label>
                            <!-- [^ 0-9+-()] -->
                            <input type="text" class="form-control" (focusout)="focusOutFreq1($event)"
                                (input)='changeField($event,"[^0-9]","1","40","fax",listChannelId[0].creditLimit.length)'
                                formControlName="smsChannel" [(ngModel)]="listChannelId[0].creditLimit">

                            <div class="error error-position"
                                *ngIf="parameterForm.controls['smsChannel'].hasError('required') && parameterForm.controls['smsChannel'].touched">
                                {{'error.AddCompany.SMSrequired' | translate}}
                            </div>
                        </div>

                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-md-5 col-xs-12" *ngIf="selectedChannel.isSms ">
                        <div class="form-group">

                            <label>{{'label.AddCompany.ThresholdType' | translate}}</label>
                            <div class="styled-select">
                                <select formControlName="ThresholdSms" [(ngModel)]="listChannelId[0].thresholdType"
                                    (change)="getthreshold($event.target.value)">
                                    <option value="" selected>{{'label.AddCompany.SelectThreshold' | translate}}
                                    </option>
                                    <option value="Absolute">{{'label.AddCompany.Absolute' | translate}}</option>
                                    <option value="Percentage">{{'label.AddCompany.Percentage' | translate}} </option>

                                </select>
                                <span class="fa fa-sort-desc"></span>

                            </div>
                        </div>
                    </div>

                    <div class="col-sm-6 col-md-5 col-xs-12"
                        *ngIf="listChannelId[0].thresholdType && selectedChannel.isSms">
                        <div class="form-group">
                            <label>{{'label.AddCompany.ThresholdValue' | translate}}</label>
                            <div *ngIf="listChannelId[0].thresholdType == 'Percentage'">
                                <input type="number" class="form-control" (focusout)="focusOutFreq2($event)"
                                    [(ngModel)]="listChannelId[0].thresholdValue"
                                    onKeyPress="if(this.value.length==3) return false;"
                                    formControlName="ThresholdValueSms" id="ThresholdValueSms"
                                    (input)='changeThreshold($event.target.value)'>
                            </div>
                            <div *ngIf="listChannelId[0].thresholdType == 'Absolute'">
                                <input type="number" class="form-control" (focusout)="focusOutFreq2($event)"
                                    [(ngModel)]="listChannelId[0].thresholdValue" formControlName="ThresholdValueSms"
                                    id="ThresholdValue" (input)='changeThreshold($event.target.value)'>
                            </div>
                            <div class="error error-position"
                                *ngIf="!Checkthreshlength && parameterForm.controls['ThresholdValueSms'].hasError('required') && parameterForm.controls['ThresholdValueSms'].touched">
                                {{'error.AddCompany.ThresholdValue' | translate}} </div>

                            <div class="error error-position"
                                *ngIf="parameterForm.controls['ThresholdValueSms'].hasError('alreadyExist')&& parameterForm.controls['ThresholdValueSms'].touched">
                                {{'error.AddCompany.ThresholdValuelimit' | translate}} </div>

                        </div>
                    </div>
                </div>



                <div class="page-title" *ngIf="selectedChannel.isEmail ">
                    <h2>{{'label.AddCompany.LimitPerChannel-EmailSetup' | translate}}</h2>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-md-5 col-xs-12" *ngIf="selectedChannel.isEmail ">
                        <div class="form-group">
                            <label>{{'label.AddCompany.LimitPerChannel-Email' | translate}}</label>
                            <input type="text" class="form-control" formControlName="emailChannel"
                                (focusout)="focusOutFreq3($event)"
                                (input)='changeField($event,"[^0-9]","1","20","fax",listChannelId[1].creditLimit.length)'
                                [(ngModel)]="listChannelId[1].creditLimit">

                            <div class="error error-position"
                                *ngIf="parameterForm.controls['emailChannel'].hasError('required') && parameterForm.controls['emailChannel'].touched">
                                {{'error.AddCompany.Emailrequired3' | translate}}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-md-5 col-xs-12" *ngIf="selectedChannel.isEmail ">
                        <div class="form-group">

                            <label>{{'label.AddCompany.ThresholdType' | translate}}</label>
                            <div class="styled-select">
                                <select formControlName="ThresholdEmail" [(ngModel)]="listChannelId[1].thresholdType"
                                    (change)="getthreshold1($event.target.value)">
                                    <option value="" selected>{{'label.AddCompany.SelectThreshold' | translate}}
                                    </option>
                                    <option value="Absolute">{{'label.AddCompany.Absolute' | translate}}</option>
                                    <option value="Percentage">{{'label.AddCompany.Percentage' | translate}} </option>

                                </select>
                                <span class="fa fa-sort-desc"></span>

                            </div>
                        </div>
                    </div>

                    <div class="col-sm-6 col-md-5 col-xs-12"
                        *ngIf=" listChannelId[1].thresholdType && selectedChannel.isEmail">
                        <div class="form-group">
                            <label>{{'label.AddCompany.ThresholdValue' | translate}}</label>
                            <div *ngIf="listChannelId[1].thresholdType == 'Percentage'">
                                <input type="number" class="form-control" (focusout)="focusOutFreq4($event)"
                                    [(ngModel)]="listChannelId[1].thresholdValue"
                                    onKeyPress="if(this.value.length==3) return false;"
                                    formControlName="ThresholdValueEmail" id="ThresholdValue"
                                    (input)='changeThreshold1($event.target.value)'>
                            </div>
                            <div *ngIf="listChannelId[1].thresholdType == 'Absolute'">
                                <input type="number" class="form-control" (focusout)="focusOutFreq4($event)"
                                    [(ngModel)]="listChannelId[1].thresholdValue" formControlName="ThresholdValueEmail"
                                    id="ThresholdValueEmail" (input)='changeThreshold1($event.target.value)'>
                            </div>
                            <div class="error error-position"
                                *ngIf="!Checkthreshlength && parameterForm.controls['ThresholdValueEmail'].hasError('required') && parameterForm.controls['ThresholdValueEmail'].touched">
                                {{'error.AddCompany.ThresholdValue' | translate}} </div>


                            <div class="error error-position"
                                *ngIf="parameterForm.controls['ThresholdValueEmail'].hasError('alreadyExist')&& parameterForm.controls['ThresholdValueEmail'].touched">
                                {{'error.AddCompany.ThresholdValuelimit' | translate}}</div>

                        </div>
                    </div>

                </div>


                <div class="page-title" *ngIf="selectedChannel.isPush ">
                    <h2>{{'label.AddCompany.PushNotificationSetup' | translate}} </h2>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-md-5 col-xs-12" *ngIf="selectedChannel.isPush ">
                        <div class="form-group">
                            <label>{{'label.AddCompany.LimitPerChannel-Push' | translate}} </label>
                            <input type="text" class="form-control" formControlName="pushChannel"
                                (focusout)="focusOutFreq5($event)"
                                (input)='changeField($event,"[^0-9]","1","40","fax",listChannelId[2].creditLimit.length)'
                                [(ngModel)]="listChannelId[2].creditLimit">

                            <div class="error error-position"
                                *ngIf="parameterForm.controls['pushChannel'].hasError('required') && parameterForm.controls['pushChannel'].touched">
                                {{'error.AddCompany.LimitPerChannel-Pushrequired' | translate}}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-md-5 col-xs-12" *ngIf="selectedChannel.isPush ">
                        <div class="form-group">

                            <label>{{'label.AddCompany.ThresholdType' | translate}}</label>
                            <div class="styled-select">
                                <select formControlName="ThresholdPush" [(ngModel)]="listChannelId[2].thresholdType"
                                    (change)="getthreshold2($event.target.value)">
                                    <option value="" selected>{{'label.AddCompany.SelectThreshold' | translate}}
                                    </option>
                                    <option value="Absolute">{{'label.AddCompany.Absolute' | translate}}</option>
                                    <option value="Percentage">{{'label.AddCompany.Percentage' | translate}} </option>

                                </select>
                                <span class="fa fa-sort-desc"></span>

                            </div>
                        </div>
                    </div>

                    <div class="col-sm-6 col-md-5 col-xs-12"
                        *ngIf="listChannelId[2].thresholdType && selectedChannel.isPush">
                        <div class="form-group">

                            <label>{{'label.AddCompany.ThresholdValue' | translate}}</label>

                            <div *ngIf="listChannelId[2].thresholdType == 'Percentage'">
                                <input type="number" class="form-control" (focusout)="focusOutFreq6($event)"
                                    [(ngModel)]="listChannelId[2].thresholdValue"
                                    onKeyPress="if(this.value.length==3) return false;"
                                    formControlName="ThresholdValuePush" id="ThresholdValuePush"
                                    (input)='changeThreshold2($event.target.value)'>
                            </div>
                            <div *ngIf="listChannelId[2].thresholdType == 'Absolute'">
                                <input type="number" class="form-control" (focusout)="focusOutFreq6($event)"
                                    [(ngModel)]="listChannelId[2].thresholdValue" formControlName="ThresholdValuePush"
                                    id="ThresholdValuePush" (input)='changeThreshold2($event.target.value)'>
                            </div>
                            <div class="error error-position"
                                *ngIf="!Checkthreshlength && parameterForm.controls['ThresholdValuePush'].hasError('required') && parameterForm.controls['ThresholdValuePush'].touched">
                                {{'error.AddCompany.ThresholdValue' | translate}} </div>


                            <div class="error error-position"
                                *ngIf="parameterForm.controls['ThresholdValuePush'].hasError('alreadyExist')&& parameterForm.controls['ThresholdValuePush'].touched">
                                {{'error.AddCompany.ThresholdValuelimit' | translate}} </div>
                        </div>
                    </div>
                    <!--add push nodification-->
                    <div class="push-nodiadd" *ngIf="selectedChannel.isPush ">
                        <div class="row">
                            <div class="col-sm-12 col-md-10 col-xs-12">
                                <div class="button-orange">
                                    <a href="javascript:void(0)"
                                        (click)="addMobileApp()">{{'label.AddCompany.AddMore' | translate}}<span
                                            class="icon-plus"></span></a>
                                </div>
                            </div>

                        </div>
                        <div formArrayName="mobileApp">
                            <div class="bggray-input col-md-10 col-xs-12 col-sm-12"
                                *ngFor="let mobileApp of parameterForm['controls'].mobileApp['controls']; let i = index"
                                formGroupName="{{i}}">
                                <div class="col-sm-12 col-md-12 col-xs-12">
                                    <div class="tgl-group tg-mg0 tg-with0">
                                        <input class='tgl tgl-light' id='isFCM{{i}}'
                                            (change)="onISFCMChange($event,i,mobileApp)" type='checkbox'
                                            formControlName="isFCM" checked>
                                        <label class='tgl-btn' for='isFCM{{i}}'></label>
                                        <span>{{'label.AddCompany.isFCM' | translate}}</span>
                                    </div>
                                </div>
                                <div class="col-sm-6 col-md-6 col-xs-12">
                                    <div class="form-group">
                                        <label>{{'label.AddCompany.MobileAppName' | translate}}</label>
                                        <input formControlName="mobileName" type="text" class="form-control">

                                        <div class="error error-position"
                                            *ngIf="mobileApp.controls['mobileName'].hasError('required') && mobileApp.controls['mobileName'].touched">
                                            {{'error.AddCompany.MobileAppNamerequired' | translate}} </div>
                                    </div>
                                </div>
                                <div class="col-sm-6 col-md-6 col-xs-12" *ngIf="mobileApp.controls['isFCM'].value">
                                    <div class="form-group">
                                        <label>{{'label.AddCompany.ServerKey' | translate}} </label>
                                        <input formControlName="serverKey" type="text" class="form-control">

                                        <div class="error error-position"
                                            *ngIf="mobileApp.controls['serverKey'].hasError('required') && mobileApp.controls['serverKey'].touched">
                                            {{'error.AddCompany.ServerKeyrequired' | translate}} </div>
                                    </div>
                                </div>
                                <div class="col-sm-6 col-md-6 col-xs-12" *ngIf="!mobileApp.controls['isFCM'].value">
                                    <div class="form-group">
                                        <label>{{'label.AddCompany.BundleId' | translate}}</label>
                                        <input formControlName="bundleId" type="text" class="form-control">

                                        <div class="error error-position"
                                            *ngIf="mobileApp.controls['bundleId'].hasError('required') && mobileApp.controls['bundleId'].touched">
                                            {{'error.AddCompany.BundleIdRequired' | translate}} </div>
                                    </div>
                                </div>
                                <div class="col-sm-6 col-md-6 col-xs-12" *ngIf="!mobileApp.controls['isFCM'].value">
                                    <div class="form-group margin20">
                                        <label>{{'label.AddCompany.Password' | translate}} </label>
                                        <input formControlName="password" type="text" class="form-control">

                                        <div class="error error-position"
                                            *ngIf="mobileApp.controls['password'].hasError('required') && mobileApp.controls['password'].touched">
                                            {{'error.AddCompany.Passwordrequired' | translate}} </div>
                                    </div>
                                </div>

                                <div class="col-sm-6 col-md-6 col-xs-12" *ngIf="!mobileApp.controls['isFCM'].value">
                                    <div class="form-group margin20">
                                        <label>Upload Files</label>
                                        <div id="upload-id" class="file-upload-wrapper"
                                            [attr.data-text]="mobileApp.controls['fileName'].value">
                                            <input name="file-upload-field" type="file" formControlName="file"
                                                (change)="onPushFileChange($event,i)" class="file-upload-field" value=""
                                                accept="docx/*">
                                                <p style="width:100%">Only p12
                                                    Document can be uploaded as
                                                    Company
                                                    Document</p>
                                        </div>
                                        <div class="error error-position"
                                            *ngIf="mobileApp.controls['fileName'].hasError('required') && mobileApp.controls['fileName'].touched">
                                            {{'error.AddCompany.Fileisrequired' | translate}} </div>

                                    </div>
                                </div>
                                <button class="del-input icon-download1 alicon-hover"
                                    *ngIf="mobileApp.controls['isDownload'].value" (click)="downloadApnsFile(i)">

                                </button>
                                <button class="del-input" *ngIf="mobileApps.length>=2" (click)="deleteMobileApp(i)"><i
                                        class="icon-delete"></i></button>
                            </div>
                        </div>


                    </div>
                    <!--add push nodification end-->
                </div>
                <div class="page-title">
                    <h2>{{'label.AddCompany.Timezone' | translate}}</h2>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-md-5 col-xs-12">
                        <div class="form-group">
                            <label>{{'label.AddCompany.DefaultTimezone' | translate}}</label>

                            <p-dropdown optionLabel="custom" class="dropdown-user-select" [options]="listZones"
                                [(ngModel)]="compObj.timeZone" formControlName="timeZone" [filter]="true">

                            </p-dropdown>
                            <div class="error error-position"
                                *ngIf="parameterForm.controls['timeZone'].hasError('required') && parameterForm.controls['timeZone'].touched">
                                {{'error.AddCompany.Timezonerequired' | translate}}
                            </div>
                        </div>
                    </div>

                </div>
                <div class="page-title">
                    <h2>{{'label.AddCompany.Authentication' | translate}}</h2>
                </div>
                <div class=" toggle-space">
                    <div class="row">
                        <div class="col-sm-6 col-md-5 col-xs-12">
                            <div class="tgl-group tg-mg0 tg-with0">
                                <input class='tgl tgl-light' id='twoWayAuth' type='checkbox'
                                    formControlName="twoWayAuth" [(ngModel)]="parameterDetails[31].propertyValue"
                                    id="twoWayAuth" checked>
                                <label class='tgl-btn' for='twoWayAuth'></label>
                                <span>{{'label.AddCompany.2FA' | translate}}</span>
                            </div>
                        </div>

                        <div class="col-sm-6 col-md-5 col-xs-12" *ngIf="showMakerChecker">
                            <div class="tgl-group tg-mg0 tg-with0">
                                <input class='tgl tgl-light' id='makerChecker' type='checkbox'
                                    formControlName="makerChecker" [(ngModel)]="parameterDetails[30].propertyValue"
                                    checked>
                                <label class='tgl-btn' for='makerChecker'></label>
                                <span>{{'label.AddCompany.Maker' | translate}}</span>
                            </div>
                        </div>
                        <div class="col-sm-6 col-md-5 col-xs-12 ">
                            <div class="tgl-group tg-mg0 tg-with0">
                                <input class='tgl tgl-light' id='isSmsDelivery' type='checkbox'
                                    formControlName="isSmsDelivery" [(ngModel)]="parameterDetails[26].propertyValue"
                                    checked>
                                <label class='tgl-btn' for='isSmsDelivery'></label>
                                <span>{{'label.AddCompany.SMSDeliveryReceipt' | translate}}</span>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="page-title" *ngIf="parameterDetails[31].propertyValue">
                    <h2>{{'label.AddCompany.OTPforLogin' | translate}} </h2>
                </div>
                <div class=" toggle-space" *ngIf="parameterDetails[31].propertyValue">
                    <div class="row">


                        <div class="col-sm-12 col-md-12 col-xs-12">
                            <div class="tgl-group tg-mg0" let i="index">
                                <input [(ngModel)]="parameterDetails[1].propertyValue" class='tgl tgl-light'
                                    formControlName="isOtp" id='display-addressOtp' type='checkbox'>
                                <label class='tgl-btn' for='display-addressOtp'></label><span>
                                    <span *ngIf="compObj.isOtp">{{'label.AddCompany.Active1' | translate}}</span><span
                                        *ngIf="!compObj.isOtp">
                                        {{'label.AddCompany.InActive' | translate}} </span> </span>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="page-title" *ngIf="parameterDetails[30].propertyValue">
                    <h2> {{'label.AddCompany.Dual' | translate}}</h2>
                </div>
                <div class=" toggle-space" *ngIf="parameterDetails[30].propertyValue && showMakerChecker">
                    <div class="row">
                        <div class="col-sm-12 col-md-12 col-xs-12" formArrayName="mainMenus">
                            <div class="tgl-group tg-mg0" *ngFor="let menu of mainMenus; let i = index"
                                formGroupName="{{i}}">
                                <input formControlName="value" [(ngModel)]="menu.value" class='tgl tgl-light'
                                    id='display-address{{i}}' type='checkbox'>
                                <label class='tgl-btn' for='display-address{{i}}'></label><span>
                                    {{menu.menu_label}}</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="page-title">
                    <h2>{{'label.AddCompany.InternationalSMS' | translate}}</h2>
                </div>
                <div class="toggle-space">
                    <div class="row">
                        <div class="col-sm-6 col-md-5 col-xs-12">
                            <div class="tgl-group tg-mg0 tg-with0 form-group">
                                <input class='tgl tgl-light' id='Required' type='checkbox'
                                    formControlName="internationalSMS" (change)="internationcSms()"
                                    [(ngModel)]="parameterDetails[27].propertyValue" checked>
                                <label class='tgl-btn' for='Required'></label>
                                <span>{{'label.AddCompany.InternationalSMS' | translate}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6 col-md-5 col-xs-12" *ngIf="parameterDetails[27].propertyValue">
                            <div class="form-group">


                                <label>{{'label.AddCompany.CountryCode' | translate}}</label>

                                <p-multiSelect [options]="allCountry" optionLabel="combinedName"
                                    [(ngModel)]="compObj.internationalCountryCode"
                                    formControlName="internationalCountryCode" [filter]="true">
                                    <ng-template let-selectedCars pTemplate="selectedItems">
                                        <span
                                            *ngFor="let selectedCar of selectedCars">{{selectedCar.combinedName}}</span>
                                        <span class="multi-last" *ngIf="compObj.internationalCountryCode.length>=2">
                                            {{compObj.internationalCountryCode.length}}</span>
                                    </ng-template>


                                </p-multiSelect>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="page-title">
                    <h2>{{'label.AddCompany.Blocktime' | translate}}</h2>
                </div>
                <div class="row block-datetime">
                    <div class="col-sm-12 col-md-12 col-xs-12 padr0">
                        <div class="form-group pos-rel form-inline">
                            <label for="">{{'label.AddCompany.From' | translate}}

                                <input [owlDateTime]="dt1" class="form-control" [owlDateTimeTrigger]="dt1"
                                    placeholder="12:00AM" [(ngModel)]="compObj.noMsgStartTime"
                                    formControlName="noMsgStartTime">
                                <owl-date-time #dt1 [pickerType]="'timer'">
                                </owl-date-time>
                            </label>
                            <span class="icon-time div-date"></span>
                            <div class="error error-position error-right"
                                *ngIf="parameterForm.controls['noMsgStartTime'].hasError('required') && parameterForm.controls['noMsgStartTime'].touched">
                                {{'error.AddCompany.StartTimeisrequired' | translate}} </div>
                        </div>

                        <div class="form-group form-inline">
                            <label>
                                {{'label.AddCompany.To' | translate}}
                                <input [owlDateTime]="dt2" class="form-control" [owlDateTimeTrigger]="dt2"
                                    placeholder="12:00AM" formControlName="noMsgEndTime"
                                    [(ngModel)]="compObj.noMsgEndTime">
                                <owl-date-time #dt2 [pickerType]="'timer'">
                                </owl-date-time>
                            </label>

                            <div class="error error-position error-right"
                                *ngIf="parameterForm.controls['noMsgEndTime'].hasError('required') && parameterForm.controls['noMsgEndTime'].touched">
                                {{'error.AddCompany.EndTimeisrequired' | translate}} </div>
                        </div>
                    </div>
                </div>
                <div class="button-right">
                    <!-- <a href="javascript:void(0)" (click)="back()" class="cancel-btn">cancel</a> -->
                    <a href="javascript:void(0)" (click)="previousToContactTab()" class="cancel-btn cancel-border">
                        {{'label.AddCompany.Previous1' | translate}}</a>
                    <a class="add-btn"
                        (click)="submitParameter()"><span>{{'label.AddCompany.Next1' | translate}}</span></a>
                </div>

            </div>
        </form>
        <div class="tab-pane company-content" [class.active]="compObj.isTheme" id="nav-logo">
            <div class="page-title">
                <h2>{{'label.AddCompany.UploadLogo1' | translate}}</h2>
            </div>
            <div class="edit-logosc" *ngIf="!showCropImage">
                <div class="edit-logoimg">
                    <img [src]="compObj.companyImage" onerror="this.src='assets/images/logo.svg';" />
                </div>
                <input name="file-upload-field" type="file" (change)="onFileChange($event)" class="file-upload-field"
                    value="" accept="image/*">
                <button style="cursor: pointer;"><span class="icon-edit-new"></span>
                    {{'label.AddCompany.ChangeLogo' | translate}}
                </button>

            </div>
            <p class="form-group">{{'label.AddCompany.Imgformat' | translate}}
            </p>

            <div class="row" *ngIf="showCropImage">
                <div class="col-sm-6 col-md-5 col-xs-12">
                    <div class="main-cropper">
                        <image-cropper [imageChangedEvent]="imageChangedEvent" [maintainAspectRatio]="false"
                            [aspectRatio]="1" format="png" (imageCropped)="imageCropped($event)"
                            (imageLoaded)="imageLoaded()" (cropperReady)="cropperReady()"
                            (loadImageFailed)="loadImageFailed()">
                        </image-cropper>
                    </div>
                </div>
                <div class="col-sm-6 col-md-5 col-xs-12 pre-logo">
                    <p><b>{{'label.AddCompany.LogoPreview' | translate}} </b></p>
                    <p>{{'label.AddCompany.max-width' | translate}}</p><br>
                    <div class="avatar-preview">
                        <img [src]="croppedImage" style="    height: 100px;
                                                        width: 147px;" onerror="this.src='assets/images/logo.svg';" />
                    </div>
                    <div class="button-right distri-btn preview-btn">
                        <a href="javascript:void(0)" class="cancel-btn"
                            (click)="cancelCropImage()">{{'label.AddCompany.Cancel1' | translate}}</a>
                        <a href="javascript:void(0)" class="add-btn "
                            (click)="saveCropImage()">{{'label.AddCompany.Save' | translate}}</a>
                    </div>
                </div>
            </div>

            <div class="page-title">
                <h2>{{'label.AddCompany.ColorTheme' | translate}}</h2>
            </div>
            <form [formGroup]="themeForm">
                <label>{{'label.AddCompany.Selectedcolor' | translate}} <b>{{compObj.theme}}</b></label>
                <div class="theme-div">

                    <div class="col-sm-8 col-md-6 col-xs-12">
                        <div class="row">

                            <div *ngFor="let theme of themesList; let i=index"
                                [class.active]="theme.themeColor==compObj.theme"
                                class="radio-btn radio-{{theme.themeColor}}">
                                <input id="radio-{{theme.themeColor}}" (click)="getColor(theme.themeColor)"
                                    [value]="theme.themeColor" formControlName="theme" [(ngModel)]="compObj.theme"
                                    name="radio" type="radio">
                                <span class="icon-preTick tick-theme"></span>
                                <label for="radio-{{theme.themeColor}}" class="radio-label">{{theme.themeColor}}</label>
                            </div>


                        </div>
                    </div>
                </div>
                <div class="push-nodiadd">
                    <div class="row">
                        <div class="col-sm-12 col-md-10 col-xs-12">
                            <div class="button-orange">
                                <a href="javascript:void(0)"
                                    (click)="addDocumentList()">{{'label.AddCompany.AddDocument' | translate}}<span
                                        class="icon-plus"></span></a>
                            </div>
                        </div>

                    </div>
                    <div class='row' formArrayName="documentList">
                        <div class="bggray-input col-sm-12 col-md-10 col-xs-12"
                            *ngFor="let mobileApp of themeForm['controls'].documentList['controls']; let i = index"
                            formGroupName="{{i}}">

                            <div class="col-sm-6 col-md-6 col-xs-12">
                                <div class="form-group margin20">
                                    <label>{{'label.AddCompany.FileDescription' | translate}}</label>
                                    <input formControlName="description" type="text"
                                        (change)="onDiscriptionChange($event,i)" class="form-control">

                                    <div class="error error-position"
                                        *ngIf="mobileApp.controls['description'].hasError('required') && mobileApp.controls['description'].touched">
                                        {{'error.AddCompany.FileDescriptionisrequired' | translate}}
                                    </div>
                                </div>
                            </div>



                            <div class="col-sm-6 col-md-6 col-xs-12">
                                <div class="form-group margin20">
                                    <label>Upload Files</label>
                                    <div id="upload-id" class="file-upload-wrapper"
                                        [attr.data-text]="themeForm.get('documentList').value[i].name">
                                        <input name="file-upload-field" type="file" formControlName="file"
                                            (change)="onDocumentFileChange($event,i)" class="file-upload-field" value=""
                                            accept="docx/*">
                                        <p style="width:100%">Only pdf ,xls, xlsx, txt, csv, doc, docx, html, ppt, pptx
                                            Document can be uploaded as
                                            Company
                                            Document</p>
                                    </div>
                                    <div class="error error-position"
                                        *ngIf="mobileApp.controls['file'].hasError('required') && mobileApp.controls['file'].touched">
                                        {{'error.AddCompany.Fileisrequired' | translate}} </div>

                                </div>
                            </div>
                            <button class="del-input icon-download1 alicon-hover"
                                *ngIf="themeForm.get('documentList').value[i].isDownload"
                                (click)="download(themeForm.get('documentList').value[i])">

                            </button>

                            <button class="del-input" (click)="deleteDocumentListForm(i)"><i
                                    class="icon-delete"></i></button>
                        </div>
                    </div>


                </div>
            </form>
            <div class="button-right">
                <a href="javascript:void(0)" (click)="cancel()"
                    class="cancel-btn">{{'label.AddCompany.Cancel2' | translate}}</a>
                <a href="javascript:void(0)" class="cancel-btn cancel-border"
                    (click)="previousToParameterTab()">{{'label.AddCompany.Previous2' | translate}}</a>
                <a *ngIf="!Edit" href="javascript:void(0)" class="add-btn"
                    (click)="ThemeValidate('submit')"><span>{{'label.AddCompany.Add' | translate}}</span></a>
                <a *ngIf="Edit" href="javascript:void(0)" class="add-btn"
                    (click)="ThemeValidate('update')"><span>{{'label.AddCompany.Submit' | translate}}</span></a>

            </div>
        </div>
    </div>
</div>