<div class="breadcrumb-div">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a routerLink="/home/dashboard/">Home</a></li>
        <li class="breadcrumb-item active">{{ role.menuLabel }}</li>
    </ol>
</div>
<div class="inner-head">
    <!-- <h2>Message Summary</h2>  -->
    <h2>{{ role.menuLabel }}</h2>
</div>

<div class="report-btn" *ngIf="this.listMessageSummary.length != 0">  
    <div class="dropdown">
      <button class="toggle-btn dropdown-toggle" type="button" data-toggle="dropdown">Export As
         </button>
      <ul class="dropdown-menu">
          <li (click)="downloadReport('pdf')"><a><img src="../../../assets/images/pdf.svg" /></a></li>
          <li (click)="downloadReport('xlsx')"><a><img src="../../../assets/images/xl.svg" /></a></li>
      </ul>
  </div>
  </div>
  <button class="toggle-btn" data-toggle="modal" data-target="#sidemodal"><span class="icon-parameter1"></span> Filters
  </button>
<!-- <div class="tablesearch-sort tablesearch-sort12">
  <div class="search-input">
      <div class="searchexpand">
        <input type="text" placeholder="Search" [(ngModel)]="SearchValue" />
        <button type="submit"><i class="icon-search"></i></button>
      </div>
      <span class="icon-search"></span>
      <span class="icon-close1 closesearch" (click)="resetSearch()"></span>
    </div>

  </div> -->

<div class="responsive-nt" >
 <div class="parentId">
   
    <table class="table  display nowrap" style="width:100%">
            <thead>
                <tr>
                    <th scope="col">S.No</th>
                    <th scope="col">Recorded Date</th>
                    <th scope="col">Total</th>
                    <th scope="col">Success</th>
                    <th scope="col" >Failure</th>
                    <th scope="col">Pending</th>
                   
                    
                </tr>
            </thead>
            <tbody *ngIf="this.listMessageSummary.length != 0">
                <tr *ngFor="let summary of listMessageSummary | paginate: { id: 'listing_pagination',
                itemsPerPage: 10,
                currentPage: page,
                totalItems: totalRec }" >
                    <td data-th="S.No" >{{summary.RowNum}}</td>
                    <td data-th="Date">{{summary.RECD_DATE_TIME | showDate}} </td>
                    <td data-th="Total" >{{summary.TOTAL}}<a class="navlink-report" (click)="gotoMessageSatticsReport(null, summary)"><span class="icon-external-link" aria-hidden="true"></span></a></td>
                    <td data-th="Success" >{{summary.SUCCESS}}<a class="navlink-report" (click)="gotoMessageSatticsReport(1, summary)"><span class="icon-external-link" aria-hidden="true"></span></a></td>
                    <td data-th="Failure" >{{summary.FAILURE}}<a class="navlink-report" (click)="gotoMessageSatticsReport(2, summary)"><span class="icon-external-link" aria-hidden="true"></span></a></td>
                    <td data-th="Pending" >{{summary.PENDING}}<a class="navlink-report" (click)="gotoMessageSatticsReport(3, summary)"><span class="icon-external-link" aria-hidden="true"></span></a></td>
                    
                </tr>
           
              
            </tbody>

            <tbody *ngIf="this.listMessageSummary.length === 0">
                  
                <h3 class="text-center">No Record found</h3>
        </tbody>


        </table>
    </div>
</div>


    <pagination-controls  class="pull-right" id="listing_pagination" maxSize="12" directionLinks="true" (pageChange)="handlePageChange($event)"></pagination-controls>



<div class="modal fade right promolanguage-model" id="sidemodal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <button type="button" class="close " (click)="close()"  aria-label="Close">
            <span class="icon-close"></span>
        </button>
        <div class="modal-content report-modal">
            <div class="modal-heading">Filters</div>
            <div class="modal-body">
             <div class="col-xs-12">
                <div class="form-group">
                    <label>From and To Date</label>
                    <input [owlDateTime]="dt1" [owlDateTimeTrigger]="dt1" [selectMode]="'range'" [max]="maxDate"
                      [(ngModel)]="filterDetailsObj.FromDate" class="form-control"
                      placeholder="{{'label.MessageStatistics.DateTime' | translate}}" />
                    <owl-date-time [pickerType]="'calendar'" #dt1></owl-date-time>
                    <span class="icon-date div-date"></span>
                  </div>

             </div>
              
             


             <div class="col-xs-12">
                <div class="form-group">
                  <label>{{'label.MessageStatistics.Channel' | translate}}</label>
                  <div class="styled-select">
                    <select [(ngModel)]="filterDetailsObj.channelId">
                      <option value="">{{'label.MessageStatistics.All' | translate}}</option>
      
                      <option *ngFor="let item of channels" value="{{ item.channelId }}">
                        {{ item.channelDesc }}
                      </option>
                    </select>
                    <span class="fa fa-sort-desc"></span>
                  </div>
                </div>
              </div>
              <div class="col-xs-12">
                <div class="form-group">
                  <label>{{'label.MessageStatistics.ChannelAddress' | translate}}</label>
      
                  <input type="text" [(ngModel)]="filterDetailsObj.channelAddress" class="form-control">
      
                  
      
                </div>
              </div>
              <div class="col-xs-12">
                <div class="form-group">
                  <label>{{'label.MessageStatistics.DeliveryStatus' | translate}}</label>
                  <div class="styled-select">
                    <select [(ngModel)]="filterDetailsObj.deliveryStatus">
                      <option value="">{{'label.MessageStatistics.All' | translate}}</option>
                      <option value="1">{{'label.MessageStatistics.Success' | translate}}</option>
                      <option value="2">{{'label.MessageStatistics.Failure' | translate}}</option>
      
                      <option value="3">{{'label.MessageStatistics.Pending' | translate}}</option>
                      <option value="4">{{'label.MessageStatistics.Blocked' | translate}}</option>
                      <option value="5"> {{'label.MessageStatistics.Expired' | translate}}</option>
                      <option value="6">{{'label.MessageStatistics.OPTOut' | translate}}</option>
      
      
      
                    </select>
                    <span class="fa fa-sort-desc"></span>
                  </div>
                </div>
              </div>


                   
            </div>
            <div class="modal-footer">
                <div class="button-right">
                    <button class="cancel-btn" (click)="clear()">Clear All</button>
                    <button class="add-btn" (click)="filter()"><span>Apply</span></button>
                </div>
            </div>

        </div>
    </div>
</div>

